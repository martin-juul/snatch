<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Produkt Rapport | Snatch</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Documentation for the Snatch project">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/snatch/assets/css/0.styles.ef6b509a.css" as="style"><link rel="preload" href="/snatch/assets/js/app.00740be8.js" as="script"><link rel="preload" href="/snatch/assets/js/2.350bce55.js" as="script"><link rel="preload" href="/snatch/assets/js/7.62b7503f.js" as="script"><link rel="prefetch" href="/snatch/assets/js/10.04588189.js"><link rel="prefetch" href="/snatch/assets/js/11.b5efdc39.js"><link rel="prefetch" href="/snatch/assets/js/12.034cae6d.js"><link rel="prefetch" href="/snatch/assets/js/13.5e2db734.js"><link rel="prefetch" href="/snatch/assets/js/3.97d5774d.js"><link rel="prefetch" href="/snatch/assets/js/4.780de693.js"><link rel="prefetch" href="/snatch/assets/js/5.d4003979.js"><link rel="prefetch" href="/snatch/assets/js/6.69e491a4.js"><link rel="prefetch" href="/snatch/assets/js/8.5215d835.js"><link rel="prefetch" href="/snatch/assets/js/9.d936c5cb.js">
    <link rel="stylesheet" href="/snatch/assets/css/0.styles.ef6b509a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/snatch/" class="home-link router-link-active"><!----> <span class="site-name">Snatch</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/snatch/produkt-rapport/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Produkt Rapport
</a></div><div class="nav-item"><a href="/snatch/process-rapport/" class="nav-link">
  Process Rapport
</a></div> <a href="https://github.com/martin-juul/snatch" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/snatch/produkt-rapport/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Produkt Rapport
</a></div><div class="nav-item"><a href="/snatch/process-rapport/" class="nav-link">
  Process Rapport
</a></div> <a href="https://github.com/martin-juul/snatch" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Produkt Rapport</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/snatch/produkt-rapport/#krav-specifikation" class="sidebar-link">Krav specifikation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/snatch/produkt-rapport/#problemstilling" class="sidebar-link">Problemstilling</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/snatch/produkt-rapport/#nuværende-løsning-og-problemformulering" class="sidebar-link">Nuværende Løsning og Problemformulering</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/snatch/produkt-rapport/#projekt-scope" class="sidebar-link">Projekt Scope</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/snatch/produkt-rapport/#bruger-karakteristik" class="sidebar-link">Bruger karakteristik</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#roller" class="sidebar-link">Roller</a></li></ul></li><li><a href="/snatch/produkt-rapport/#bestillingsflow-diagram" class="sidebar-link">Bestillingsflow diagram</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/snatch/produkt-rapport/#personaer" class="sidebar-link">Personaer</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/snatch/produkt-rapport/#user-stories" class="sidebar-link">User Stories</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#oprettelse" class="sidebar-link">Oprettelse</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#log-ind" class="sidebar-link">Log ind</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#glemt-kodeord" class="sidebar-link">Glemt kodeord</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#ændrer-adresse" class="sidebar-link">Ændrer adresse</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#se-restauranter" class="sidebar-link">Se restauranter</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#bestille-mad" class="sidebar-link">Bestille mad</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#følge-levering" class="sidebar-link">Følge levering</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#foretage-levering" class="sidebar-link">Foretage levering</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#ændrer-menukort" class="sidebar-link">Ændrer menukort</a></li></ul></li><li><a href="/snatch/produkt-rapport/#brugerflade" class="sidebar-link">Brugerflade</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#restaurant-menukort" class="sidebar-link">Restaurant - Menukort</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#ordrer-tracking" class="sidebar-link">Ordrer - Tracking</a></li></ul></li><li><a href="/snatch/produkt-rapport/#fremtidig-løsning" class="sidebar-link">Fremtidig løsning</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#firebase" class="sidebar-link">Firebase</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#react-native" class="sidebar-link">React Native</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#google-maps-sdk" class="sidebar-link">Google Maps SDK</a></li></ul></li><li><a href="/snatch/produkt-rapport/#ikke-funktionelle-krav" class="sidebar-link">Ikke Funktionelle Krav</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#tilgængelighed-brugerflade" class="sidebar-link">Tilgængelighed (Brugerflade)</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#forudsætninger" class="sidebar-link">Forudsætninger</a></li></ul></li><li><a href="/snatch/produkt-rapport/#fremtidssikring" class="sidebar-link">Fremtidssikring</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#hotfixing" class="sidebar-link">Hotfixing</a></li></ul></li><li><a href="/snatch/produkt-rapport/#ordrerbehandling" class="sidebar-link">Ordrerbehandling</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#beregning-af-distance" class="sidebar-link">Beregning af distance</a></li></ul></li><li><a href="/snatch/produkt-rapport/#sikkerhed" class="sidebar-link">Sikkerhed</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#oauth" class="sidebar-link">OAuth</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#cloud-firestore-sikkerhedspolitikker" class="sidebar-link">Cloud Firestore Sikkerhedspolitikker</a></li></ul></li><li><a href="/snatch/produkt-rapport/#teknologier" class="sidebar-link">Teknologier</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#firebase-2" class="sidebar-link">Firebase</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#react-native-2" class="sidebar-link">React Native</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#typescript" class="sidebar-link">TypeScript</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#github" class="sidebar-link">GitHub</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#featmap" class="sidebar-link">Featmap</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#webstorm" class="sidebar-link">WebStorm</a></li></ul></li><li><a href="/snatch/produkt-rapport/#biblioteker" class="sidebar-link">Biblioteker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#react-native-unimodules" class="sidebar-link">react-native-unimodules</a></li><li class="sidebar-sub-header"><a href="/snatch/produkt-rapport/#wix-react-native-navigation" class="sidebar-link">[wix/react-native-navigation]()</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="produkt-rapport"><a href="#produkt-rapport" class="header-anchor">#</a> Produkt Rapport</h1> <h2 id="krav-specifikation"><a href="#krav-specifikation" class="header-anchor">#</a> Krav specifikation</h2> <p>Snatch A/S er en madportal der, har en løsning fra 2007, som blev outsourcet til udlandet Dette har givet massive
problemer, samt udfordringer grundet en uhensigtsmæssig sprogbarrierer. Platformen har gennem flere omgange, været
omskrevet, af flere udviklingshuse - men resultatet er aldrig blevet godt. Kunderne samt virksomheder oplever
regelmæssige nedbrud, problemer med betalinger og mistede ordrer. Der har længe været et ønske om at få en mobil
applikation udviklet. Da Snatch bløder kunder til konkurrenter der, tilbyder denne funktionalitet.</p> <h2 id="problemstilling"><a href="#problemstilling" class="header-anchor">#</a> Problemstilling</h2> <p>Appen skal løse følgende kerne problemstillinger:</p> <ul><li>Kunder der vil have mere indblik i hvornår de modtager deres leverancer.</li> <li>Leverandører der køre ud for flere restauranter, skal informeres når der er leverancer klar.</li> <li>Restauranter skal modtage ordrer, og kan herefter få dem leveret - uden at skulle kontakte leverandøren</li></ul> <h2 id="nuværende-løsning-og-problemformulering"><a href="#nuværende-løsning-og-problemformulering" class="header-anchor">#</a> Nuværende Løsning og Problemformulering</h2> <p>Det nuværende system er en ASP.NET hjemmeside, udviklet i .NET 3.5.</p> <p>Hvilken løsning kan vi lave, som vil optimere processen og mindske ressourceforbruget ved bestilling og levering af mad?
Hvad er problemet med de eksisterende processer? Hvilke ændringer skal der til for at mindske ressourceforbruget ved
bestilling og levering af mad? Hvordan sørger vi for en skalérbar, modulopbygget og fremtidssikret løsning? Hvordan
sikrer vi løsningens kvalitet og tilgængelighed?</p> <h2 id="projekt-scope"><a href="#projekt-scope" class="header-anchor">#</a> Projekt Scope</h2> <p>Formålet med applikationen er at gøre det nemt for forbrugere at bestille og få leveret mad. Restauranterne slipper for
selv at skulle ansætte leveringsbude, som giver luft til at fokuserer på deres forretning.</p> <p>Håndteringen af levering mellem restaurant og leveringsbud bliver koordineret af det bagvedliggende system. Som kunde
kan man følge med i leverancen på et kort, fra at man har bestilt, til modtagelsen.</p> <h2 id="bruger-karakteristik"><a href="#bruger-karakteristik" class="header-anchor">#</a> Bruger karakteristik</h2> <h3 id="roller"><a href="#roller" class="header-anchor">#</a> Roller</h3> <p>Brugerfladen har forskellig funktionalitet som indskrænkes alt efter hvilken rolle brugeren har.</p> <h4 id="kunde"><a href="#kunde" class="header-anchor">#</a> Kunde</h4> <ul><li>Se restauranter</li> <li>Se menukort</li> <li>Opret/Annuller Ordrer</li> <li>Chat med leveringsbud</li></ul> <h4 id="leveringsbud"><a href="#leveringsbud" class="header-anchor">#</a> Leveringsbud</h4> <ul><li>Bekræft udbringning</li> <li>Aflys udbringning</li> <li>Chat med modtager</li></ul> <h4 id="restaurant"><a href="#restaurant" class="header-anchor">#</a> Restaurant</h4> <ul><li>Adresse (Opret, Rediger, Slet)</li> <li>Menukort (Opret, Rediger, Slet)</li> <li>Ordrer
<ul><li>Annuller</li> <li>Bekræft</li></ul></li></ul> <h2 id="bestillingsflow-diagram"><a href="#bestillingsflow-diagram" class="header-anchor">#</a> Bestillingsflow diagram</h2> <div id="mermaid_64a5701e" class="vuepress-mermaid">
  flowchart TD
    subgraph Customer
    A1[Browse listings] --&gt;B1[Choose restaurant]
        B1 --&gt;C1[Choose item]
        C1 --&gt;D1[Checkout]
        D1 --&gt;E1[Confirm order]
    end

    E1 --&gt;Restaurant
    E1 --&gt;Driver

    subgraph Restaurant
        A2[New order] --&gt;B2[Confirm order]
        B2 --&gt;C2[Prepare order]
        C2 --&gt;D2[Hand over to delivery]
    end
    D2 --&gt;C3

    subgraph Driver
        A3[New order notification] --&gt;B3[Drive to Restaurant]
        B3 --&gt;C3[Retrieve items]
        C3 --&gt;D3[Drive to customer]
    end
</div><h2 id="personaer"><a href="#personaer" class="header-anchor">#</a> Personaer</h2> <h4 id="kunde-john-smith"><a href="#kunde-john-smith" class="header-anchor">#</a> Kunde (John Smith)</h4> <p>John er en travl familiefar på 42 år. Han har ikke tid til at stå for at lave mad i hverdagen, som gør han ofte køber
take-away. Dette går der meget tid med, så derfor ønsker han en løsning hvor han kan bestille mad, og med ret høj
sikkerhed vide hvornår han kan forvente leveringen. Da det ofte har været et problem at restauranterne ikke har
informeret ham om uhensigtsmæssige forsinkelser.</p> <h4 id="leveringsbud-jane-doe"><a href="#leveringsbud-jane-doe" class="header-anchor">#</a> Leveringsbud (Jane Doe)</h4> <p>Jane er en studerende på 19 år. Hun bor midt i Odense og ønsker et studiejob hvor hun kan køre rundt i byen på sin
knallert.</p> <h4 id="restaurant-tom-yom"><a href="#restaurant-tom-yom" class="header-anchor">#</a> Restaurant (Tom Yom)</h4> <p><em>Tom Yom</em> er en Odenseansk restaurant der før covid-19 epidemien havde en høj omsætning. Grundet lockdown perioder, og
at deres kundesegment er blevet mere forsigtige, har de mistet en stor mængde kunder, da de ikke bruger ud.
<em>Tom Yom</em> ønsker en nem måde at få deres mad solgt og leveret ud til kunder. Uden at skulle ansætte leveringsbude, og
ikke skulle drifte egen app/hjemmeside.</p> <h2 id="user-stories"><a href="#user-stories" class="header-anchor">#</a> User Stories</h2> <h3 id="oprettelse"><a href="#oprettelse" class="header-anchor">#</a> Oprettelse</h3> <p>Som gæst vil jeg gerne have mulighed for at oprette en bruger</p> <h4 id="krav"><a href="#krav" class="header-anchor">#</a> Krav</h4> <ul><li>Mulighed for at bruge Single Sign On (e.g. Google Sign in)</li> <li>Mulighed for at bruge egen email og selvvalgt kodeord</li></ul> <h4 id="acceptkriterier"><a href="#acceptkriterier" class="header-anchor">#</a> Acceptkriterier</h4> <ul><li>For at undgå dobbeltkonti, skal OAuth og Email/Kodeord konti flettes sammen automatisk</li> <li>Hvis en bruger forsøger at oprette sig med en eksisterende email, og har valgt kodeordsflowet, skal der vises en fejl</li> <li>Hvis udfyldt korrekt, skal kontoen oprettes</li></ul> <h3 id="log-ind"><a href="#log-ind" class="header-anchor">#</a> Log ind</h3> <p>Som eksisterende bruger skal jeg kunne logge ind på min konto</p> <h4 id="krav-2"><a href="#krav-2" class="header-anchor">#</a> Krav</h4> <ul><li>Felter til at udfylde email &amp; kodeord</li> <li>Knapper til Single Sign On</li></ul> <h4 id="acceptkriterier-2"><a href="#acceptkriterier-2" class="header-anchor">#</a> Acceptkriterier</h4> <ul><li>Hvis oplysningerne er korrekte, skal brugeren logges ind, ellers skal der vises en fejl</li></ul> <h3 id="glemt-kodeord"><a href="#glemt-kodeord" class="header-anchor">#</a> Glemt kodeord</h3> <p>Som bruger, hvis jeg har glemt mit kodeord, skal jeg have mulighed for at nulstille</p> <h4 id="krav-3"><a href="#krav-3" class="header-anchor">#</a> Krav</h4> <ul><li>Knap på log ind skærmen, til nulstilling af kodeord</li></ul> <h4 id="acceptkriterier-3"><a href="#acceptkriterier-3" class="header-anchor">#</a> Acceptkriterier</h4> <ul><li>Hvis email adressen eksisterer skal brugeren modtage en email med et nulstillingslink</li></ul> <h3 id="ændrer-adresse"><a href="#ændrer-adresse" class="header-anchor">#</a> Ændrer adresse</h3> <p>Som kunde vil jeg gerne kunne ændre den adresse jeg modtager mad på</p> <h4 id="krav-4"><a href="#krav-4" class="header-anchor">#</a> Krav</h4> <ul><li>Felt i profilsiden til ændring af adresse</li> <li>Adressen skal verificeres med Google Maps</li> <li>Knap til at bruge nuværende lokation som adresse</li></ul> <h4 id="acceptkriterier-4"><a href="#acceptkriterier-4" class="header-anchor">#</a> Acceptkriterier</h4> <ul><li>Hvis adressen ikke findes, skal der vises en fejl</li> <li>Adressen gemmes på profilen</li></ul> <h3 id="se-restauranter"><a href="#se-restauranter" class="header-anchor">#</a> Se restauranter</h3> <p>Som kunde vil jeg gerne kunne se restauranter</p> <h4 id="krav-5"><a href="#krav-5" class="header-anchor">#</a> Krav</h4> <ul><li>Liste med restauranter</li> <li>Når man trykker på en restaurant skal appen henvise til dennes side</li></ul> <h4 id="acceptkriterier-5"><a href="#acceptkriterier-5" class="header-anchor">#</a> Acceptkriterier</h4> <ul><li>Ved indlæsning skal brugerfladen indikerer dette</li></ul> <h3 id="bestille-mad"><a href="#bestille-mad" class="header-anchor">#</a> Bestille mad</h3> <p>Som kunde vil jeg gerne kunne se en restaurants menukort og bestille mad</p> <h4 id="krav-6"><a href="#krav-6" class="header-anchor">#</a> Krav</h4> <ul><li>Vis menukort som liste</li> <li>Hvert produkt skal have en side hvor man kan tilføje madvaren til kurven</li> <li>Det skal kun være muligt at bestille fra en énkelt restaurant per indkøbskurv</li></ul> <h4 id="acceptkriterier-6"><a href="#acceptkriterier-6" class="header-anchor">#</a> Acceptkriterier</h4> <ul><li>Hvis brugeren prøver at tilføje produkter fra en anden restaurant, skal der vises en fejlbesked</li></ul> <h3 id="følge-levering"><a href="#følge-levering" class="header-anchor">#</a> Følge levering</h3> <p>Som kunde vil jeg gerne kunne følge leverancen af min ordrer</p> <h4 id="krav-7"><a href="#krav-7" class="header-anchor">#</a> Krav</h4> <ul><li>Vis leveringsbud på kort</li></ul> <h4 id="acceptkriterier-7"><a href="#acceptkriterier-7" class="header-anchor">#</a> Acceptkriterier</h4> <ul><li>Kortet skal opdateres med positionen live</li></ul> <h3 id="foretage-levering"><a href="#foretage-levering" class="header-anchor">#</a> Foretage levering</h3> <p>Som leveringsbud vil jeg gerne kunne levere mad</p> <h4 id="krav-8"><a href="#krav-8" class="header-anchor">#</a> Krav</h4> <ul><li>Modtag notifikation om ny ordrer</li> <li>Knap til markere ordreren som leveret</li></ul> <h4 id="acceptkriterier-8"><a href="#acceptkriterier-8" class="header-anchor">#</a> Acceptkriterier</h4> <ul><li>Kunde og restaurant notificeres ved accept/afslag</li></ul> <h3 id="ændrer-menukort"><a href="#ændrer-menukort" class="header-anchor">#</a> Ændrer menukort</h3> <p>Som restaurant vil jeg gerne kunne ændrer i mit menukort</p> <h4 id="krav-9"><a href="#krav-9" class="header-anchor">#</a> Krav</h4> <ul><li>Opret nyt produkt</li> <li>Redigér eksiterende produkt</li> <li>Slet eksisterende produkt</li></ul> <h4 id="acceptkriterier-9"><a href="#acceptkriterier-9" class="header-anchor">#</a> Acceptkriterier</h4> <ul><li>Vis fejlbesked hvis følgende felter mangler: <em>navn, beskrivelse, pris</em></li> <li>Produktet skal vises efter oprettelse</li></ul> <h2 id="brugerflade"><a href="#brugerflade" class="header-anchor">#</a> Brugerflade</h2> <p>Appen har specielt fokus på at vise et indbydende menukort samt at følge med i leveringen.
Det er disse funktionaliteter som <em>Snatch</em> vil have skaber omtale.</p> <h3 id="restaurant-menukort"><a href="#restaurant-menukort" class="header-anchor">#</a> Restaurant - Menukort</h3> <p><img src="/snatch/assets/img/screen-restaurant.1e56c42c.png" alt="Restaurant Screen"></p> <h3 id="ordrer-tracking"><a href="#ordrer-tracking" class="header-anchor">#</a> Ordrer - Tracking</h3> <p><img src="/snatch/assets/img/screen-order-tracking.b913deec.png" alt="Order Tracking Screen"></p> <h2 id="fremtidig-løsning"><a href="#fremtidig-løsning" class="header-anchor">#</a> Fremtidig løsning</h2> <div id="mermaid_64a55862" class="vuepress-mermaid">
  graph LR
subgraph mobile-app[Snatch]
    subgraph platforms[Platforms]
        a1(Android)
        b1(iOS)
    end

    subgraph thirdparty[Backend]
        c1(Firebase)
        c2(Google Maps SDK)
    end

    style a1 fill:#d3f8a5
    style b1 fill:#d3f8a5
end
</div><h3 id="firebase"><a href="#firebase" class="header-anchor">#</a> Firebase</h3> <p>Til projektets backend er valget faldet på <em>Firebase</em> da det er en <em>Platform-as-a-Service</em> udviklet og driftet af
Google, som gør vi sparer tid på at udvikle lignende funktionalitet. Det er en veldokumenteret populær platform. Det er
også nemt at, finde udviklere der har erfaring med Firebase - som er et stort plus når vi snakker fremtidssikring.</p> <h3 id="react-native"><a href="#react-native" class="header-anchor">#</a> React Native</h3> <p>Klienten er baseret på React Native, som er et cross platform framework til udvikling af GUI applikationer. Til dette
projekt er fokus på mobil, dvs. Android og iOS. Men der er også mulighed for udvikling til macOS og Windows.</p> <h3 id="google-maps-sdk"><a href="#google-maps-sdk" class="header-anchor">#</a> Google Maps SDK</h3> <p>Til visning af kort, er valget faldet på Google Maps. Applikationen skal være så ens, som muligt, på hver platform. Her
er Google Maps oplagt, da Google selv står for udviklingen. Samt bliver kortene opdateret ofte. På den måde undgås det
at vise uddaterede kort.</p> <h2 id="ikke-funktionelle-krav"><a href="#ikke-funktionelle-krav" class="header-anchor">#</a> Ikke Funktionelle Krav</h2> <h3 id="tilgængelighed-brugerflade"><a href="#tilgængelighed-brugerflade" class="header-anchor">#</a> Tilgængelighed (Brugerflade)</h3> <p>Systemet skal udvikles til at kunne bruges af så bred en kundebase som det er, der bestiller mad.
Der skal tages højde for ikke at overkomplicerer vejen til brugeren mål, nemlig at bestille og modtage mad.</p> <p>Her skal der tænkes på at bruge farver, der stadig vil give den korrekte kontrast i forhold til farveblindhed.
Det skal være muligt at bruge skærmlæser eksempelvis <em>Apple VoiceOver</em></p> <h3 id="forudsætninger"><a href="#forudsætninger" class="header-anchor">#</a> Forudsætninger</h3> <p>For at kunne anvende mobil applikationen, skal man have én af følgende enheder:</p> <ul><li>Apple iPhone/iPod Touch/iPad med minimum iOS 12.0</li> <li>Android telefon/tablet med minimum Android 9</li></ul> <h2 id="fremtidssikring"><a href="#fremtidssikring" class="header-anchor">#</a> Fremtidssikring</h2> <p>Appen anvender populære teknologier, der er bakket op af større virksomheder som Google (Firebase) og Facebook (React
Native), og data overførselsprotokollen udelukkende består af JSON objekter - mener vi at, der er lagt et godt fundament
for fremtidig udvikling.</p> <p>Software kernen består af nøje udvalgte biblioteker, der har en hvis popularitet. Samt tjekket igennem for at sikre, at
de <strong>ikke</strong> er licenseret med licenser der, kunne skabe problemer i forhold til ophavsret.</p> <p>React Native har også runtimes til macOS, Windows og Web - hvilket giver mulighed for at dele samme kodebase på tværs af
platformene.</p> <h3 id="hotfixing"><a href="#hotfixing" class="header-anchor">#</a> Hotfixing</h3> <p>CodePush er en microsoft udviklet teknologi til React Native der, gør det muligt at hotfixe/live-patche den kompilerede
JavaScript kode samt assets eksempelvis billeder eller skiftyper.</p> <p>Dette giver mulighed for at udgive opdateringer der ikke afhænger af ændringer i den platform specifikke kode.</p> <div id="mermaid_64a5519a" class="vuepress-mermaid">
  graph LR
    MobileApp[Mobile App]

    NativeBinaries[Native binaries]
    Java[Java] --&gt; NativeBinaries
    Objc[Objective-C] --&gt; NativeBinaries
    NativeBinaries --&gt; AppStore[App Stores]

    ReactCode[React Code] --&gt;JSBundle[JavaScript Bundle]
    JSBundle --&gt;Bundle
    AppStore --&gt;MobileApp
    Bundle-. Update .-&gt;MobileApp
</div><p>CodePush er understøttet på Android, iOS og Windows.</p> <p>Teknologien er valgt da CodePush platformen er stillet til rådighed som en gratis service fra Microsoft. Skulle det en
dag komme til at koste penge, kan man allerede idag skifte til en tredjeparts tjeneste eller vælge at hoste
selv. <a href="https://github.com/lisong/code-push-server" target="_blank" rel="noopener noreferrer">github.com/lisong/code-push-server<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="ordrerbehandling"><a href="#ordrerbehandling" class="header-anchor">#</a> Ordrerbehandling</h2> <div id="mermaid_64a5515c" class="vuepress-mermaid">
  sequenceDiagram
    autonumber
    participant U as User
    participant R as Restaurant
    participant D as Driver
    U-&gt;&gt;R: Create order
    loop Healthcheck
        R-&gt;&gt;D: Find available Driver
    end
    Note right of R: Firebase Cloud Function
    D-&gt;&gt;U: Request confirmation
    U-&gt;&gt;D: Confirm
</div><h3 id="beregning-af-distance"><a href="#beregning-af-distance" class="header-anchor">#</a> Beregning af distance</h3> <p>Når en bruger opretter en ordrer, bliver udbringeren fundet ved at slå alle udbringere op i databasen, beregnet på den
mindste afstand i fugleflugt. Denne løsning er valgt, da det vil være for dyrt at bruge et api kald, til beregning af
den reelle afstand med f.eks. Google Maps Directions.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * Converts numeric degrees to radians
 * @param {number} val
 *
 * @return {number}
 */</span>
<span class="token keyword">function</span> <span class="token function">toRad</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> val <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">GeoPoint</span> <span class="token punctuation">{</span>
  latitude<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  longitude<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * Calculates the Crow distance between 2 geographic points
 * @param {GeoPoint} point1
 * @param {GeoPoint} point2
 *
 * @return {number}
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">calculateCrowDistance</span><span class="token punctuation">(</span>point1<span class="token operator">:</span> GeoPoint<span class="token punctuation">,</span> point2<span class="token operator">:</span> GeoPoint<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token constant">R</span> <span class="token operator">=</span> <span class="token number">6371</span><span class="token punctuation">;</span> <span class="token comment">// km</span>
  <span class="token keyword">const</span> dLat <span class="token operator">=</span> <span class="token function">toRad</span><span class="token punctuation">(</span>point2<span class="token punctuation">.</span>latitude <span class="token operator">-</span> point1<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> dLon <span class="token operator">=</span> <span class="token function">toRad</span><span class="token punctuation">(</span>point2<span class="token punctuation">.</span>longitude <span class="token operator">-</span> point1<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> lat1 <span class="token operator">=</span> <span class="token function">toRad</span><span class="token punctuation">(</span>point1<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> lat2 <span class="token operator">=</span> <span class="token function">toRad</span><span class="token punctuation">(</span>point2<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> a <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>dLat <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>dLat <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>dLon <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>dLon <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>lat1<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>lat2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">atan2</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token constant">R</span> <span class="token operator">*</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em>Bemærk: Du kan scrolle horisontalt</em></p> <h2 id="sikkerhed"><a href="#sikkerhed" class="header-anchor">#</a> Sikkerhed</h2> <h3 id="oauth"><a href="#oauth" class="header-anchor">#</a> OAuth</h3> <p>Vi anvender Firebase Authentication, som giver nem integration med Apple og Google Sign-in. På denne måde outsourcer vi
sikkerheden, sparer udviklingstid og får en langt højere sikkerhed der, er verificeret hos Google.</p> <h3 id="cloud-firestore-sikkerhedspolitikker"><a href="#cloud-firestore-sikkerhedspolitikker" class="header-anchor">#</a> Cloud Firestore Sikkerhedspolitikker</h3> <p>Cloud Firestore Security Rules er et domain specific language (DSL) skrevet til at opbygge adgangskontrol (ACL) samt
datavalidering i Firestore. I sammenhæng med Firebase Authentication, er hele databasen beskyttet ned på attribut niveau
for at undgå uhensigtsmæssig datalæk blandt brugerprofiler.</p> <p>Den aktuelle sikkerhedspolitik kan ses nedenunder.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>rules_version <span class="token operator">=</span> <span class="token string">'2'</span><span class="token punctuation">;</span>
service cloud<span class="token punctuation">.</span>firestore <span class="token punctuation">{</span>
  match <span class="token operator">/</span>databases<span class="token operator">/</span><span class="token punctuation">{</span>database<span class="token punctuation">}</span><span class="token operator">/</span>documents <span class="token punctuation">{</span>
    match <span class="token operator">/</span><span class="token punctuation">{</span>document<span class="token operator">=</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>
      allow read<span class="token punctuation">,</span> write<span class="token punctuation">:</span> <span class="token keyword">if</span>
          request<span class="token punctuation">.</span>time <span class="token operator">&gt;</span> timestamp<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> request<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>token <span class="token operator">!=</span> null<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  match <span class="token operator">/</span>users<span class="token operator">/</span><span class="token punctuation">{</span>userId<span class="token punctuation">}</span> <span class="token punctuation">{</span>
    allow read<span class="token punctuation">,</span> update<span class="token punctuation">,</span> delete<span class="token punctuation">:</span> <span class="token keyword">if</span> request<span class="token punctuation">.</span>auth <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> request<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>uid <span class="token operator">==</span> userId<span class="token punctuation">;</span>
    allow create<span class="token punctuation">:</span> <span class="token keyword">if</span> request<span class="token punctuation">.</span>auth <span class="token operator">!=</span> null<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="teknologier"><a href="#teknologier" class="header-anchor">#</a> Teknologier</h2> <h3 id="firebase-2"><a href="#firebase-2" class="header-anchor">#</a> Firebase</h3> <p>Backend as a service. Populær blandt app udviklere, man kan &quot;springe&quot; udviklingen af backend'en over.</p> <h4 id="authentication"><a href="#authentication" class="header-anchor">#</a> Authentication</h4> <p>Login service - her anvendes Apple Sign-In og Google Sign-In</p> <h4 id="crashlytics"><a href="#crashlytics" class="header-anchor">#</a> Crashlytics</h4> <p>Opsamling af crash rapporter til videre analysering af os</p> <h4 id="cloud-functions"><a href="#cloud-functions" class="header-anchor">#</a> Cloud Functions</h4> <p>Serverless funktioner</p> <h4 id="dynamic-links"><a href="#dynamic-links" class="header-anchor">#</a> Dynamic Links</h4> <p>Bruges til at rute <em>deep links</em> fra eksempelvis en hjemmeside, ind til et view i appen</p> <h4 id="firestore"><a href="#firestore" class="header-anchor">#</a> Firestore</h4> <p>Dokument database (NoSQL)</p> <h4 id="storage"><a href="#storage" class="header-anchor">#</a> Storage</h4> <p>Data lag til at gemme og vise billeder</p> <h3 id="react-native-2"><a href="#react-native-2" class="header-anchor">#</a> React Native</h3> <p>Crossplatform framework til udvikling af applikationer på tværs af mobil og desktop. Denne app anvender kun</p> <h3 id="typescript"><a href="#typescript" class="header-anchor">#</a> TypeScript</h3> <p>Et supersæt af JavaScript, der introducerer typer i JavaScript. Drager stor inspiration fra C#, da det er samme
forfatter Anders Hejlsberg, der skrev sproget.</p> <h3 id="github"><a href="#github" class="header-anchor">#</a> GitHub</h3> <p>Github hoster git serveren, som koden er versioneret på. Servicen må bruges gratis til kommercielt brug, hvilket gør den
attraktiv for virksomheder.</p> <h3 id="featmap"><a href="#featmap" class="header-anchor">#</a> Featmap</h3> <p>User story mapping tool til oprettelse af user stories med link til issues.</p> <h3 id="webstorm"><a href="#webstorm" class="header-anchor">#</a> WebStorm</h3> <p>Et JetBrains produkt til udvikling af software der er skrevet i JavaScript/TypeScript. Licens pris: €12.90 per måned
eller €129 om året</p> <h2 id="biblioteker"><a href="#biblioteker" class="header-anchor">#</a> Biblioteker</h2> <h3 id="react-native-unimodules"><a href="#react-native-unimodules" class="header-anchor">#</a> <a href="https://docs.expo.dev/bare/installing-unimodules/" target="_blank" rel="noopener noreferrer">react-native-unimodules<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>En samling af moduler brug som bruges i <a href="https://expo.dev/" target="_blank" rel="noopener noreferrer">expo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Unimodules er installeret i projektet for at gøre
brug af expo specifikke moduler.</p> <h3 id="wix-react-native-navigation"><a href="#wix-react-native-navigation" class="header-anchor">#</a> <a href="">wix/react-native-navigation</a></h3> <p>Biblioteket gør det muligt at have en central logik til navigation mellem skærme <em>(Screens)</em>, og samtidig have en menu i
toppen og bunden.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/17/2021, 8:56:32 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/snatch/assets/js/app.00740be8.js" defer></script><script src="/snatch/assets/js/2.350bce55.js" defer></script><script src="/snatch/assets/js/7.62b7503f.js" defer></script>
  </body>
</html>
